<%= form_wrapper do |f| %>
  <%= f.fieldset do %>
    <%= f.legend do %>
      <%= f.fieldset_title(icon: helpers.icon_set.signin_icon, title: t("signin.form.title")) %>
    <% end %>

    <%= f.input_component(:email) do |component| %>
      <% component.with_label do %>
        <%= f.field_title(icon: helpers.icon_set.email_address_icon, title: "Email") %>
      <% end %>

      <% component.with_field do %>
        <%= f.email_field(:email, placeholder: t("practical_framework.forms.placeholders.email"),
                                autofocus: true,
                                autocomplete: "username webauthn",
                                required: false,
                                data: {"focusout-validation": true}
                       )
        %>
      <% end %>
    <% end %>

    <%= f.fallback_error_section(options: {id: generic_errors_id }) %>
    <%= f.hidden_field :passkey_credential %>

    <section>
      <%= f.button_component(type: :submit, color_variant: :success) do %>
        <%= render helpers.icon_set.passkey_icon %>
        <%= t("signin.form.submit_button") %>
      <% end %>
    </section>
  <% end %>
<% end %>
